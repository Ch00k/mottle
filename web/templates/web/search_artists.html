{% extends "web/base.html" %}
{% load static %}
{% load tekore_model_extras %}
{% block script %}
    <script src="{% static 'web/script.js' %}"></script>
{% endblock script %}
{% block page_title %}
    Discography
{% endblock page_title %}
{% block content %}
    <section>
        <form>
            <label for="query">Artist name</label>
            <input type="search"
                   name="query"
                   value="{{ query }}"
                   placeholder="Start typing an artist name..."
                   hx-get="."
                   hx-trigger="input changed delay:500ms, search"
                   hx-target="#search-results"
                   hx-push-url="true"
                   hx-indicator="#spinner">
        </form>
    </section>
    <br>
    <section id="search-results">
        {% if artists %}
            {% include "web/tables/artists.html" %}
        {% endif %}
    </section>
{% endblock content %}
